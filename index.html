<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>è·Ÿè‘—éƒµç¥¨å»æ—…è¡Œ Â· å°å—å°å†’éšª</title>
<link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=Noto+Sans+TC:wght@400;700;900&family=Caveat:wght@700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#F7F3EA;          /* å¾©å¤ç´™å¼µåº• */
  --paper:#FFFEFA;       /* ä¿¡ç´™ç™½ */
  --ink:#3B372F;         /* æš–é»‘ */
  --soft:#E6E0D2;        /* æ·¡å¡å…¶ç·š */
  --accent:#2F5DA8;      /* èˆªç©ºéƒµè— */
  --air:#E43C2A;         /* èˆªç©ºéƒµç´… */
  --sage:#CFE5D6; --blush:#F4D0C7; --sky:#DDE9F5; --honey:#F7E3AE;
  --shadow:0 12px 28px rgba(0,0,0,.10);
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink)}
body{font-family:"Noto Sans TC","Kosugi Maru",system-ui,-apple-system,"PingFang TC","Microsoft JhengHei",sans-serif; line-height:1.7}

/* Airmail stripe header */
header{
  position:sticky; top:0; z-index:10; backdrop-filter:saturate(160%) blur(8px);
  background:rgba(255,254,250,.9); border-bottom:1px solid rgba(0,0,0,.05);
}
.nav{max-width:980px;margin:auto;display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
.brand{display:flex;align-items:center;gap:10px}
.brand img{height:46px;border-radius:9px;box-shadow:var(--shadow)}
.brand .t{font-weight:900;letter-spacing:.4px;font-size:clamp(18px,4.4vw,26px)}
.cta-top a{display:inline-block;text-decoration:none;background:var(--accent);color:#fff;padding:10px 14px;border-radius:12px;font-weight:900;box-shadow:var(--shadow)}
.airline{
  position:relative;
}
.airline:after{
  content:""; position:absolute; left:0; right:0; bottom:-10px; height:12px;
  border:12px solid transparent;
  border-image: conic-gradient(from 45deg, var(--air) 0 12.5%, #fff 0 25%, var(--accent) 0 37.5%, #fff 0 50%, var(--air) 0 62.5%, #fff 0 75%, var(--accent) 0 87.5%, #fff 0 100%) 1;
}

/* Envelope hero */
.wrap{max-width:980px;margin:auto;padding:16px}
.hero{margin:16px auto 8px}
.env{background:var(--paper);border-radius:22px;box-shadow:var(--shadow);overflow:hidden;position:relative}
.env .cover{
  height:230px;
  background:
    radial-gradient(60% 80% at 70% 30%, rgba(0,0,0,.06), transparent 60%),
    url('assets/hero-tainan.jpg') center/cover no-repeat;
  filter:saturate(.96) contrast(.98);
}
.env .body{padding:18px}
.h1{font-family:"Kosugi Maru","Noto Sans TC",sans-serif;font-weight:900;font-size:clamp(22px,5.8vw,34px)}
.sub{color:#5e584f}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.btn{border:none;cursor:pointer;font-weight:900;border-radius:14px;padding:14px 18px;font-size:clamp(15px,4vw,18px);box-shadow:var(--shadow)}
.btn-primary{background:var(--accent);color:#fff}
.btn-ghost{background:#fff;color:var(--accent);border:2px dashed var(--accent)}

/* Progress ribbon (airmail look) */
.map{margin:14px auto 0}
.road{height:12px;background:#efe8da;border-radius:999px;overflow:hidden;box-shadow: inset 0 2px 6px rgba(0,0,0,.05)}
.bar{height:100%;width:0%;transition:width .35s ease;
  background: repeating-linear-gradient( 45deg, var(--air) 0 16px, #fff 16px 32px, var(--accent) 32px 48px, #fff 48px 64px); }
.labels{display:flex;justify-content:space-between;font-size:13px;color:#6c655b;margin-top:6px}
.save{display:none;margin-top:6px;color:#2e8b57;font-weight:900}
.save.show{display:block}

/* Scenes */
.scene{display:none}
.scene.active{display:block}
.sec{background:var(--paper);border-radius:24px;box-shadow:var(--shadow);padding:18px;margin:12px 0;position:relative}

/* Stamp option cards */
.stamps{display:grid;gap:12px}
@media(min-width:900px){ .stamps{grid-template-columns:1fr 1fr} }
.stamp{
  position:relative;background:#fff;border-radius:14px;padding:14px;cursor:pointer;
  box-shadow:0 10px 18px rgba(0,0,0,.08); transition:transform .08s ease, box-shadow .2s ease;
  outline:10px dotted #ECE6D7; outline-offset:-8px;      /* æ¨¡æ“¬é½’å­”é‚Š */
}
.stamp:hover{transform:translateY(-2px)}
.stamp.selected{box-shadow:0 16px 26px rgba(0,0,0,.12)}

/* postmark seal */
.postmark{
  position:absolute; left:10px; top:8px; width:86px; height:86px; border:2px solid rgba(47,93,168,.65);
  border-radius:50%; transform:rotate(-12deg) scale(0.3); opacity:0; transition:transform .28s ease, opacity .28s ease;
}
.postmark:after{
  content:"TAINAN â€¢ POST"; position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:11px; color:rgba(47,93,168,.75); letter-spacing:1px;
}
.stamp.selected .postmark{opacity:1; transform:rotate(-12deg) scale(1)}

/* tiny label sticker */
.tag{display:inline-block;background:var(--sky);padding:6px 10px;border-radius:999px;font-weight:900;font-size:13px;margin-top:8px}
.tag.blush{background:var(--blush)} .tag.sage{background:var(--sage)} .tag.honey{background:var(--honey)}

/* Intro (name) */
.intro{position:fixed; inset:0; background:rgba(0,0,0,.25); display:flex; align-items:center; justify-content:center; padding:18px}
.panel{max-width:520px;width:100%;background:var(--paper);border-radius:22px;box-shadow:var(--shadow);padding:20px}
.input{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
.input input{flex:1;min-width:160px;border:2px solid var(--soft);border-radius:12px;padding:12px 14px;font-size:16px;background:#fff}

/* Ticket (airmail boarding pass) */
.ticket{display:none;background:linear-gradient(135deg,#fff,#fffef7);border-radius:24px;box-shadow:var(--shadow);padding:18px;margin:14px 0;position:relative;overflow:hidden}
.ticket:before,.ticket:after{content:"";position:absolute;top:50%;width:22px;height:22px;background:var(--bg);border-radius:50%;transform:translateY(-50%);box-shadow:inset 0 0 0 1px rgba(0,0,0,.06)}
.ticket:before{left:-11px}.ticket:after{right:-11px}
.thead{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;border-bottom:1px dashed rgba(0,0,0,.15);padding-bottom:10px;margin-bottom:10px}
.badge{background:var(--sage);padding:8px 12px;border-radius:14px;font-weight:900}
.rows{display:grid;gap:10px;font-weight:800}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.row label{font-size:13px;color:#6b6762}
.pill{background:var(--sky);padding:8px 12px;border-radius:999px}
.pill.alt{background:var(--blush)} .pill.honey{background:var(--honey)}
.share{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}

/* Heart confetti */
.heart{position:fixed;pointer-events:none;animation:floatUp 1.2s ease forwards;font-size:18px;opacity:0}
@keyframes floatUp{0%{transform:translateY(0) scale(.9);opacity:0}20%{opacity:1}100%{transform:translateY(-120px) scale(1.1);opacity:0}}
</style>
</head>
<body>
<header class="airline">
  <div class="nav">
    <div class="brand">
      <img src="assets/logo-jci.png" alt="logo">
      <div class="t">è·Ÿè‘—éƒµç¥¨å»æ—…è¡Œ Â· å°å—å°å†’éšª</div>
    </div>
    <div class="cta-top"><a href="#map">é–‹å§‹</a></div>
  </div>
</header>

<div class="wrap hero">
  <div class="env">
    <div class="cover"></div>
    <div class="body">
      <div class="h1">å—¨ğŸ‘‹ ä¸€èµ·è·Ÿè‘—ã€Œéƒµç¥¨ã€èµ°ä¸€å ´æ—…è¡Œå§</div>
      <div class="sub">æ¯ä¸€æ­¥éƒ½ç”¨ã€Œéƒµç¥¨å¡ã€åšé¸æ“‡ï¼Œé»ä¸‹å»æœƒè“‹ç« ï¼›æ”¶é›†ä¸‰æšéƒµç¥¨å¾Œï¼Œå°±æœƒç”Ÿæˆä¸€å¼µå°ˆå±¬çš„èˆªç©ºéƒµä»¶ç¥¨åˆ¸ã€‚</div>
      <div class="actions">
        <button class="btn btn-primary" id="btnStart">ç«‹å³é–‹å§‹</button>
        <button class="btn btn-ghost" id="btnHow">æ€éº¼ç©ï¼Ÿ</button>
      </div>
    </div>
  </div>
</div>

<!-- progress -->
<div id="map" class="wrap map">
  <div class="road"><div class="bar" id="bar"></div></div>
  <div class="labels"><span>ä¸€æšéƒµç¥¨</span><span>å…©æšéƒµç¥¨</span><span>ä¸‰æšå®Œæˆ</span></div>
  <div class="save" id="save">å·²ç´€éŒ„ âœ…</div>
</div>

<div class="wrap">

  <!-- Scene 1 -->
  <section class="scene active" id="s1">
    <div class="sec">
      <h3>â‘  é¸ä¸€æšã€Œè·¯ç·šéƒµç¥¨ã€</h3>
      <div class="stamps">
        <div class="stamp" data-key="path" data-val="è€å®…å’–å•¡ Â· æ–‡é’æ•£ç­–">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ“® è€å®…å’–å•¡ Â· æ–‡é’æ•£ç­–</div>
          <div style="font-size:14px;color:#6b655b;">çª—é‚Šåº§ä½ï¼‹é»‘ç™½åº•ç‰‡æ„Ÿå°åº—</div>
          <span class="tag sage">Old House</span>
        </div>
        <div class="stamp" data-key="path" data-val="å®‰å¹³é‹æ²³ Â· æµ·é¢¨é‡é¤">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ“® å®‰å¹³é‹æ²³ Â· æµ·é¢¨é‡é¤</div>
          <div style="font-size:14px;color:#6b655b;">è‰åœ°ã€å¤•é™½ã€é¹¹é¹¹çš„é¢¨</div>
          <span class="tag sky">Canal</span>
        </div>
        <div class="stamp" data-key="path" data-val="å··å¼„åœ°åœ– Â· æ’ç•«å°åº—">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ“® å··å¼„åœ°åœ– Â· æ’ç•«å°åº—</div>
          <div style="font-size:14px;color:#6b655b;">å°‹å¯¶æ˜ä¿¡ç‰‡èˆ‡æ‰‹ä½œç« </div>
          <span class="tag blush">Alley</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Scene 2 -->
  <section class="scene" id="s2">
    <div class="sec">
      <h3>â‘¡ ä»Šå¤©çš„ä¸»è§’é‡é»</h3>
      <div class="stamps">
        <div class="stamp" data-key="focus" data-val="éœéœèŠå¤© Â· æ‰¾å®‰éœè§’è½">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ’¬ éœéœèŠå¤©</div>
          <div style="font-size:14px;color:#6b655b;">æ…¢æ…¢èªªï¼ŒæŠŠä»Šå¤©ç•™é•·ä¸€é»</div>
          <span class="tag honey">Talk</span>
        </div>
        <div class="stamp" data-key="focus" data-val="ä¸€èµ·å‹•æ‰‹ Â· é«”é©—å·¥ä½œåŠ">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ§¶ ä¸€èµ·å‹•æ‰‹</div>
          <div style="font-size:14px;color:#6b655b;">æ‹“å°ã€æ‰‹ä½œç”œé»æˆ–å°å° DIY</div>
          <span class="tag sage">Make</span>
        </div>
        <div class="stamp" data-key="focus" data-val="ç¾ç…§æ”¶è— Â· æ‹æ”ä»»å‹™">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ“¸ ç¾ç…§æ”¶è—</div>
          <div style="font-size:14px;color:#6b655b;">æŠŠå¦³æ‹å¾—åƒé›œèªŒ</div>
          <span class="tag blush">Photo</span>
        </div>
        <div class="stamp" data-key="focus" data-val="å„€å¼æ”¶å°¾ Â· å°å¡é©šå–œ">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ å„€å¼æ”¶å°¾</div>
          <div style="font-size:14px;color:#6b655b;">æœ€å¾Œæœ‰ä¸€å¼µå¯«çµ¦å¦³çš„å°å¡</div>
          <span class="tag sky">Ritual</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Scene 3 -->
  <section class="scene" id="s3">
    <div class="sec">
      <h3>â‘¢ æ—…ç¨‹çš„çµå°¾æ–¹å¼</h3>
      <div class="stamps">
        <div class="stamp" data-key="ending" data-val="é‹æ²³å¤œæ™¯ Â· æ•£æ­¥ç‰½æ‰‹">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸŒ™ é‹æ²³å¤œæ™¯</div>
          <div style="font-size:14px;color:#6b655b;">å°±æ…¢æ…¢èµ°ã€æ…¢æ…¢èªª</div>
          <span class="tag sky">Night Walk</span>
        </div>
        <div class="stamp" data-key="ending" data-val="å°é£Ÿå ‚ Â· æ·±å¤œé¹¹é£Ÿ">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸœ å°é£Ÿå ‚</div>
          <div style="font-size:14px;color:#6b655b;">å…©ä»½å‰›å‰›å¥½çš„å®µå¤œ</div>
          <span class="tag honey">Supper</span>
        </div>
        <div class="stamp" data-key="ending" data-val="å°å¡ç‰‡ Â· å°ˆå±¬ç•™è¨€">
          <div class="postmark"></div>
          <div style="font-weight:900;">ğŸ’Œ å°å¡ç‰‡</div>
          <div style="font-size:14px;color:#6b655b;">æŠŠä»Šå¤©å¯«é€²å¦³çš„å£è¢‹</div>
          <span class="tag blush">Note</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Ticket -->
  <section class="ticket" id="ticket">
    <div class="thead">
      <h3 id="tkTitle">AIR MAIL Â· TAINAN BOARDING PASS</h3>
      <div class="badge">å®Œæˆ Â· POSTED âœˆ</div>
    </div>
    <div class="rows">
      <div class="row"><label>æ”¶ä»¶äººï¼š</label><span class="pill honey" id="tkName">å¦³</span></div>
      <div class="row"><label>è·¯ç·šï¼š</label><span class="pill" id="tkPath">â€”</span></div>
      <div class="row"><label>é‡é»ï¼š</label><span class="pill alt" id="tkFocus">â€”</span></div>
      <div class="row"><label>çµå°¾ï¼š</label><span class="pill" id="tkEnding">â€”</span></div>
      <div class="row"><label>å°èªï¼š</label><span class="pill" id="tkMsg">æŠŠä»Šå¤©å¯„çµ¦å¦³ï¼Œå…¶ä»–äº¤çµ¦æˆ‘ã€‚</span></div>
    </div>
    <div class="share">
      <button class="btn btn-primary" id="btnReset">å†ç©ä¸€æ¬¡</button>
      <button class="btn btn-ghost" id="btnCopy">è¤‡è£½ç¥¨åˆ¸æ–‡å­—</button>
    </div>
  </section>

</div>

<!-- Intro (name) -->
<div class="intro" id="intro" aria-modal="true" role="dialog">
  <div class="panel">
    <h3>å…ˆå¯«ä¸Šå¦³çš„åå­—å§ï¼ˆå¯ç•™ç©ºï¼‰</h3>
    <div class="input">
      <input id="girlName" type="text" placeholder="ä¾‹å¦‚ Nini" />
      <button class="btn btn-primary" id="introStart">é–‹å§‹</button>
    </div>
  </div>
</div>

<script>
const $=s=>document.querySelector(s), $$=s=>[...document.querySelectorAll(s)];
const state={name:"",step:0,total:3,answers:{path:null,focus:null,ending:null}};

$("#btnHow").addEventListener("click",()=>alert("ç©æ³•ï¼šæ¯ä¸€æ­¥ç”¨ã€Œéƒµç¥¨å¡ã€åšé¸æ“‡ï¼Œæœƒå‡ºç¾è“‹ç« å‹•ç•«ï¼›é›†æ»¿ä¸‰æšï¼Œå°±ç”Ÿæˆèˆªç©ºéƒµä»¶ç¥¨åˆ¸ï¼"));
$("#btnStart").addEventListener("click",()=>$("#intro").style.display="flex");
$("#introStart").addEventListener("click",()=>{ state.name=($("#girlName").value||"").trim(); $("#intro").style.display="none"; go(1); });

function go(n){
  state.step=Math.max(0,Math.min(state.total,n));
  $$(".scene").forEach(el=>el.classList.remove("active"));
  if(n>=1&&n<=3) $(`#s${n}`).classList.add("active");
  $("#bar").style.width=((n-1)/state.total*100)+"%";
  if(n<=3) $("#ticket").style.display="none";
  document.getElementById("map").scrollIntoView({behavior:"smooth",block:"start"});
}
function next(){ state.step<state.total ? go(state.step+1) : showTicket(); }

$$(".stamp").forEach(card=>{
  card.addEventListener("click",()=>{
    // toggle visual
    card.parentElement.querySelectorAll(".stamp").forEach(s=>s.classList.remove("selected"));
    card.classList.add("selected");

    // save
    state.answers[card.dataset.key]=card.dataset.val;
    $("#save").classList.add("show");
    setTimeout(()=>$("#save").classList.remove("show"),800);

    // confetti
    hearts();

    // progress feel & next
    const nextStep=Math.min(state.total,state.step+1);
    $("#bar").style.width=((nextStep-1)/state.total*100)+"%";
    setTimeout(next,420);
  });
});

function hearts(){
  const arr=["ğŸ’—","ğŸ’Œ","âœ¨","ğŸŒŸ","ğŸ“®"];
  for(let i=0;i<5;i++){
    const el=document.createElement("div");
    el.className="heart";
    el.textContent=arr[Math.floor(Math.random()*arr.length)];
    el.style.left=(20+Math.random()*60)+"vw";
    el.style.top=(55+Math.random()*10)+"vh";
    el.style.animationDelay=(i*0.05)+"s";
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),1300);
  }
}

function showTicket(){
  $("#bar").style.width="100%";
  $("#tkName").textContent=state.name||"å¦³";
  $("#tkPath").textContent=state.answers.path||"â€”";
  $("#tkFocus").textContent=state.answers.focus||"â€”";
  $("#tkEnding").textContent=state.answers.ending||"â€”";
  let msg="æŠŠä»Šå¤©å¯„çµ¦å¦³ï¼Œå…¶ä»–äº¤çµ¦æˆ‘ã€‚";
  if(state.answers.focus?.includes("èŠå¤©")) msg="æƒ³è½å¦³èªªçš„æ¯ä¸€å¥ï¼Œæ…¢æ…¢å¯„åˆ°æˆ‘å¿ƒè£¡ã€‚";
  if(state.answers.focus?.includes("å‹•æ‰‹")) msg="ä¸€èµ·åšé»ä»€éº¼ï¼ŒæŠŠå›æ†¶è“‹ç« æ”¶è—ã€‚";
  if(state.answers.focus?.includes("ç¾ç…§")) msg="æŠŠå¦³çš„ç¬‘è£é€²åº•ç‰‡ï¼Œè²¼åœ¨ä»Šå¤©é€™å°ä¿¡ä¸Šã€‚";
  if(state.answers.focus?.includes("å„€å¼")) msg="æŠŠå¿ƒæ„å¯«é€²å°å¡ï¼Œé€£åŒä»Šæ™šä¸€èµ·å¯„å‡ºã€‚";
  $("#tkMsg").textContent=msg;
  $("#ticket").style.display="block";
  $("#ticket").scrollIntoView({behavior:"smooth",block:"start"});
}

$("#btnReset").addEventListener("click",()=>{
  state.answers={path:null,focus:null,ending:null};
  $$(".stamp").forEach(s=>s.classList.remove("selected"));
  go(1);
});
$("#btnCopy").addEventListener("click",()=>{
  const txt=`ã€AIR MAIL Â· TAINAN BOARDING PASSã€‘
æ”¶ä»¶äººï¼š${state.name||"å¦³"}
è·¯ç·šï¼š${state.answers.path||"-"}
é‡é»ï¼š${state.answers.focus||"-"}
çµå°¾ï¼š${state.answers.ending||"-"}
å°èªï¼š${$("#tkMsg").textContent}
â€” å¯„çµ¦å¦³çš„å°æ—…è¡Œã€‚`;
  navigator.clipboard.writeText(txt).then(()=>alert("å·²è¤‡è£½ç¥¨åˆ¸å…§å®¹ï¼"));
});

// é è¨­æ‰“é–‹å„€å¼
$("#intro").style.display="flex";
</script>
</body>
</html>
